get:
  description: >-
    Retrieve study metadata objects by searching/listing study metadata.


    ## Metadata full-text queries

    Single words can be supplied as is, otherwise use speech marks (`"`) to
    quote queries that include whitespace. Speech marks and backslash characters
    in the query need to be escaped with a backslash (`\`).


    ## Metadata filters

    Metadata filters are key-value pairs joined by an operator. The `=` operator
    matches literal values/string. The `!=` operator matches anything except the
    literal value/string. The `<` or `>` operators match numerical results that
    are less or greater than the supplied value. Strings containing whitespace
    need to be quoted with (`"`).


    ## Combinations

    Metadata queries/filters for the same parameter can be combined with `&&`,
    `AND`, `||` and `OR` operators, using white-space to separate out the terms
    and operators. Parentheses `( )` can be used for complex expressions.


    ## Paging

    For performance reasons this endpoint returns results in "pages" of limited
    size. In order to retrieve all matching results the client needs to request
    multiple pages starting from an offset to the first result. You can do this
    using the pageOffset query parameter. A value of 0 (the default) instructs
    the server to return the first page of results, 100 would return a page of
    results starting from the 101st result and so on. To return all results
    iterate through pages using pageOffset values of `n * pageLimit` until the
    `resultsExhausted` response field is true.


    ## List operation


    This endpoint can be called with no `query` parameter. Doing so returns a
    list of all study objects.
  operationId: searchStudiesAsUser
  parameters:
    - description: >-
        Supply this parameter with the value `term_id` as part of the query to
        return extended information including IDs for values and dictionaries.
      in: query
      name: responseFormat
      schema:
        enum:
          - term_id
        type: string
    - description: >+
        Filter by study metadata (key-value metadata pair(s)). E.g. `"Study
        Source"=ArrayExpress`


      in: query
      name: filter
      schema:
        type: string
    - description: >-
        Search for study objects via a full-text query over all study metadata
        fields. E.g. `"RNA-Seq of human dendritic cells"`. Queries matching
        dictionary terms are automatically expanded to include synonyms.
      in: query
      name: query
      schema:
        type: string
    - description: >-
        If the full-text query term is present in an ODM dictionary, enabling
        this parameter will modify the query to include child terms of the
        full-text query.


        For example, the search query "Body fluid" can be expanded to include
        the term "Blood" (a child term of  "Body fluid") so files containing
        either "Body fluid" or  "Blood"  in their metadata will be returned in
        the search results.


        The parent-child relationship is defined by the key "broaders" or
        "subClassOf" in the dictionary.


        If the full query term is not present in a dictionary then this
        parameter has no effect.
      in: query
      name: searchSpecificTerms
      schema:
        type: boolean
    - description: >-
        The parameter defines amount of metadata attributes to return:


        1. `minimal_data` - return metadata attributes according to the default
        template.

        2. `extended_data_included` - return metadata attributes according to
        applied template, if object doesnâ€™t have applied template, default
        template will be used. This is the default for User endpoints.

        3. `original_data_included` - return all metadata attributes with values
        and null attributes, if they are present in the applied template. This
        is the default for Curator endpoints.
      in: query
      name: returnedMetadataFields
      schema:
        enum:
          - minimal_data
          - extended_data_included
          - original_data_included
        type: string
    - description: >-
        Attribute to sort by, with optional ascending/descending marker, of the
        form `"[+|-]<key_name>"`.


        No marker or `"+"` indicates ascending sort, and `"-"` indicates
        descending sort.


        *Default:* sort by ID in ascending order.
      in: query
      name: sort
      schema:
        enum:
          - id
          - creation
          - last_update
          - name
          - +id
          - +creation
          - +last_update
          - +name
          - '-id'
          - '-creation'
          - '-last_update'
          - '-name'
        type: string
    - description: >-
        Maximum number of results to return. This value must be between 0 and
        2000 (inclusive).
      in: query
      name: pageLimit
      schema:
        format: int32
        type: integer
    - description: >-
        Show the page {pageOffset+1} results from the start of the results. E.g.
        100 will show a page of results  starting from the 101st result. The
        default value is 0.
      in: query
      name: pageOffset
      schema:
        format: int32
        type: integer
  responses:
    '200':
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ListResponse"
        text/tab-separated-values:
          schema:
            $ref: "#/components/schemas/ListResponse"
      description: The request was successful. The returned value is a list of objects.
    '401':
      content: {}
      description: >-
        User is not authenticated. Please supply a valid Access Token in the
        `Authorization` HTTP header (e.g. Authorization: bearer [token])
         or  Genestack API token in the `Genestack-API-Token` header (this token may be obtained from the Genestack UI _Profile_ page).
    '500':
      content: {}
      description: >-
        An internal server error occurred. This indicates an unexpected failure
        in the Genestack system, please file a bug report to
        support@genestack.com, including the error details.
  security:
    - Access-token: []
    - Genestack-API-Token: []
  summary: List or search for study metadata objects
  tags:
    - Study SPoT as User
components:
  schemas:
    ListResponse:
      $ref: ../components/schemas/ListResponse.yaml