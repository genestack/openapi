post:
  description: >-
    This endpoint publishes information from staging and creates new metadata
    versions for the specified study and all associated objects. The version
    name is set to “Auto-published by API call”. Only curators with access to
    the specified studies can use this method.
  operationId: publishStudyByAccessionAsCurator
  parameters:
    - description: Supply the accession of the study to be published
      in: path
      name: id
      required: true
      schema:
        type: string
    - description: >-
        Supply text to name this version. If not supplied the version name is
        set to “Auto-published by API call”
      in: query
      name: versionMessage
      schema:
        type: string
  responses:
    '200':
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/TaskInfo"
      description: Task information.
    '401':
      content: {}
      description: >-
        User is not authenticated. Please supply a valid Access Token in the
        `Authorization` HTTP header (e.g. Authorization: bearer [token])
         or  Genestack API token in the `Genestack-API-Token` header (this token may be obtained from the Genestack UI _Profile_ page).
    '403':
      content: {}
      description: Forbidden
    '500':
      content: {}
      description: >-
        An internal server error occurred. This indicates an unexpected failure
        in the Genestack system, please file a bug report to
        support@genestack.com, including the error details.
  security:
    - Access-token: []
    - Genestack-API-Token: []
  summary: Asynchronous task that publishes all pending versions for a single study.
  tags:
    - Metadata versioning as Curator
components:
  schemas:
    TaskInfo:
      $ref: ../components/schemas/TaskInfo.yaml