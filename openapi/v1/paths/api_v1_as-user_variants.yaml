get:
  description: >+
    Retrieve all variant data and metadata objects that match a query.


    ## Metadata full-text queries

    Single words can be supplied as is, otherwise use speech marks (`"`) to
    quote queries that include whitespace. Speech marks and backslash characters
    in the query need to be escaped with a backslash (`\`).


    ## Metadata filters

    Metadata filters are key-value pairs joined by an operator. The `=` operator
    matches literal values/string. The `!=` operator matches anything except the
    literal value/string. The `<` or `>` operators match numerical results that
    are less or greater than the supplied value. Strings containing whitespace
    need to be quoted with (`"`).


    ## Combinations

    Metadata queries/filters for the same parameter can be combined with `&&`,
    `AND`, `||` and `OR` operators, using white-space to separate out the terms
    and operators. Parentheses `( )` can be used for complex expressions.


    ## Versioning

    Specific versions of omics data files (eg. GCT) can be queried via the
    useVersions parameter. Different versions of an omics data file are
    associated via their CHAIN_ID metadata value. This CHAIN_ID can be supplied
    to the useVersions parameter along with the version number or specific omics
    data file accessions to include them in the query. If nothing is supplied to
    the useVersions parameter then only the active version (which is usually the
    last one imported) is queried. This acts as a filter before the rest of the
    query is carried out.


    Example usage:

    useVersions=* (query all versions, including those without CHAIN_IDs)

    useVersions=v2 (query the second version. If there is no second version then
    the data file is not queried)

    useVersions=v1,v0 (query the first version and any data files without
    CHAIN_IDs(v0) )

    useVersions=GSVC002:v3 (for omics data files with a CHAIN_ID of GSCV002
    query the third version)

    useVersions=GSVC002:GSF00494,GSF000496 (for omics data files with a CHAIN_ID
    of GSCV002 query only the specific accessions GSF00494 and GSF000496)


    Rules for multiple CHAIN_IDs can be supplied to the parameter using the ;
    separator.


    ## Paging

    For performance reasons this endpoint returns results in "pages" of limited
    size together with a `cursor` tag. To retrieve the next page of results
    please supply this `cursor` tag to resume the query from your previous
    result and get the next page. If there are no more results you will just
    retrieve an empty result.

  operationId: getAllVariantsAsUser
  parameters:
    - description: >-
        Supply this parameter with the value `term_id` as part of the query to
        return extended information including IDs for values and dictionaries.
      in: query
      name: responseFormat
      schema:
        enum:
          - term_id
        type: string
    - description: >-
        Filter by variant metadata (key-value metadata pair(s)). E.g. `"Variant
        Source"=dbSNP`. Retrieving individual runs via "Run Source
        ID"="HG00096"  will be deprecated after June 2023
      in: query
      name: filter
      schema:
        type: string
    - description: >-
        Search for variant objects via a full text query over all variant
        metadata. E.g. `dbSNP`. Queries matching dictionary terms are
        automatically expanded to include synonyms.
      in: query
      name: query
      schema:
        type: string
    - description: >-
        If the full-text query term is present in an ODM dictionary, enabling
        this parameter will modify the query to include child terms of the
        full-text query.


        For example, the search query "Body fluid" can be expanded to include
        the term "Blood" (a child term of  "Body fluid") so files containing
        either "Body fluid" or  "Blood"  in their metadata will be returned in
        the search results.


        The parent-child relationship is defined by the key "broaders" or
        "subClassOf" in the dictionary.


        If the full query term is not present in a dictionary then this
        parameter has no effect.
      in: query
      name: searchSpecificTerms
      schema:
        type: boolean
    - description: >-
        Genestack accession that corresponds to the vcf column used to link
        variants from the same run to a sample
      in: query
      name: runFilter
      schema:
        type: string
    - description: >-
        Filter by vcf INFO field key=value(or range) pairs. Multiple filters can
        be separated with semicolons. E.g. `AF=(0.8:0.95);VT=SNP'
      in: query
      name: infoFilter
      schema:
        type: string
    - description: >-
        Specify a chromosome interval related with the genes list. Use commas to
        specify multiple genes.
      in: query
      name: genes
      schema:
        type: string
    - description: >-
        Specify a chromosome interval to find genes between these positions.
        E.g. `2:233364596-233385916`. Use commas to specify multiple intervals.
      in: query
      name: interval
      schema:
        type: string
    - description: >-
        One or more specific variation IDs can be specified. E.g. `rs838705` use
        `|` characters to specify mutliple IDs. 
      in: query
      name: variationId
      schema:
        type: string
    - description: >-
        Reference bases, with multiple characters sepearated by `|`. E.g.
        `CA|G`.
      in: query
      name: reference
      schema:
        type: string
    - description: >-
        Alternate bases, with multiple characters sepearated by `|`. E.g.
        `CA|G`.
      in: query
      name: alteration
      schema:
        type: string
    - description: >-
        The response can be filtered by number of affected alleles. All objects
        which have a number of mutations that is equal or greater than the
        supplied value will match the search criteria.


        For example, if you provide ‘1’, all variant objects which have
        mutations in 1, 2, or more, alleles will be displayed in the response.
      in: query
      name: alleles
      schema:
        type: string
    - description: >-
        The objects can be filtered by quality value. Quality should be entered
        as an interval in parentheses with the starting and ending values are
        separated by a colon.


        For example, if you enter (100:200), variant objects with quality values
        greater than 100 and less than 200 will be shown in the response.
      in: query
      name: quality
      schema:
        type: string
    - description: >-
        Specify which versions of omics data files are used in the query. By
        default the active version is used. See Versioning above. Syntax:


        \* or `v<version number>` or `<CHAIN_ID>`:`v<version number>` or
        `<CHAIN_ID>`:`<accession1,accession2,..>`
      in: query
      name: useVersions
      schema:
        type: string
    - description: >-
        The parameter defines amount of metadata attributes to return:


        1. `minimal_data` - return metadata attributes according to the default
        template.

        2. `extended_data_included` - return metadata attributes according to
        applied template, if object doesn’t have applied template, default
        template will be used. This is the default for User endpoints.

        3. `original_data_included` - return all metadata attributes with values
        and null attributes, if they are present in the applied template. This
        is the default for Curator endpoints.
      in: query
      name: returnedMetadataFields
      schema:
        enum:
          - minimal_data
          - extended_data_included
          - original_data_included
        type: string
    - description: >-
        Maximum number of results to return per page (see Paging above). This
        value must be between 0 and 2000 (inclusive). The default is 2000.
      in: query
      name: pageLimit
      schema:
        format: int32
        type: integer
    - description: The page tag to resume results from (see paging above).
      in: query
      name: cursor
      schema:
        type: string
  responses:
    '200':
      content:
        application/json:
          schema:
            $ref: ../components/schemas/VariantResponse.yaml
      description: Retrieved variant data.
    '400':
      content: {}
      description: Variant data cannot be retrieved.
    '401':
      content: {}
      description: >-
        User is not authenticated. Please supply a valid Access Token in the
        `Authorization` HTTP header (e.g. Authorization: bearer [token])
         or  Genestack API token in the `Genestack-API-Token` header (this token may be obtained from the Genestack UI _Profile_ page).
    '404':
      content: {}
      description: No object exists with the given ID.
    '500':
      content: {}
      description: >-
        An internal server error occurred. This indicates an unexpected failure
        in the Genestack system, please file a bug report to
        support@genestack.com, including the error details.
  security:
    - Access-token: []
    - Genestack-API-Token: []
  summary: Retrieve multiple variant data and metadata objects
  tags:
    - Variant SPoT as User
